# 面试题

- [ ] MySQL两种引擎的数据结构？
  - [ ] InnoDB
  - [ ] MYISAM

- [ ] 事务和锁
- [ ] MVCC（多版本并发控制）底层原理
- [ ] MVCC怎么实现的？
- [ ] 数据库B+树结构，单个索引的命中过程
- [ ] 联合索引的命中过程
- [ ] 多个单索引的命中过程
- [ ] 数据库删除一个记录时，B+树的变化，效率怎么样
  - [ ] 树结构的平衡调整，影响其他索引对应的树结构，链表指针的调整
- [ ] 说下数据库的ACID。
  - [ ] 数据库是怎么实现的ACID的？
  - [ ] 说了下事务日志？
- [ ] 索引在B+树中的整个命中过程是什么样的？
- [ ] sql语句什么情况下不会用到索引？
  - [ ] 能具体举例吗？
  - [ ] 索引的最左原则，是联合索引中的最左原则
- [ ] B+树的特征，和B树什么区别？
- [ ] 什么时候用B树什么时候用B+树？
- [ ] 大文件中查找某个字符串（提示布隆过滤器和位图来做）？
- [ ] 数据库表锁的应用场景？什么时候会变成表锁？
- [ ] 一个事务如果前三条语句失败了，这时候回滚，回滚时执行undo日志中的语句又失败了，会怎么办？



# 底层数据结构

- B+树

  **原因？**

  > 1、作为一种数据库数据结构，必须是一种K-V格式
  >
  > 2、支持K-V格式的有：哈希表，树
  >
  > 3、为什么不选择哈希表呢？
  >
  > - 哈希表不支持范围查找；
  > - 哈希冲突；
  > - 哈希函数不合理会导致查询效率退化（可以展开分析哈希表底层原理？）
  >
  > 4、选择什么树形结构呢？
  >
  > - 二叉树 ----> BST 可能不平衡
  > - 平衡二叉树或红黑树：相对平衡，但是数据量很大是，树高增高带来了查询效率变慢
  > - B树：每个节点存储数据导致，B树的每个节点存储的关键字个数不够多
  > - B+树：只在叶子节点存储具体数据，其他节点存储索引；因此，查询时候，从磁盘中加载一页到内存能够查询的关键字个数显著提高。
  > - B+树一般三阶或四阶足够满足千万级别的数据量了；如果数据量再大一些，就涉及到分库分表了。