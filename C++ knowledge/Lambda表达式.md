# C++ 11 之Lambda表达式

- 形式

  `[capture](param) optional -> ret { body; };`

  - capture ：捕获列表，用来捕获外部作用域内变量；分为值捕获和引用捕获；

    > []：不捕获任何变量
    >
    > [&]：捕获外部作用域中所有变量，并作为引用在函数体中使用；
    >
    > [=]：捕获外部作用域中所有变量，并作为副本拷贝（拷贝的时机不是调用的时机）在函数体中使用 **延迟调用**；但是，lamda表达式无法修改通过**值捕获**的外部变量；（若需修改，只能引用捕获；或者使用**mutable**可选字段）
    >
    > ```c++
    > int a=0;
    > auto f = [=]{ return a; };
    > a += 1;
    > std::cout<<f()<<std::endl; // 此时返回的a是0
    > ```
    >
    > [this]：捕获当前类中this指针，让lamda表达式拥有和当前类成员函数相同的访问权限；如果已经使用了=或&，就默认添加此选项。

  - param：参数列表，若为空；可省略；被**mutable**修饰的lamda表达式就算无参数，也不可省略；

  - optional：可选项；如**mutable**，支持修改值捕获的外部变量（不会影响外部）；

  - ret：返回类型；若body中只有**一条返回语句**，且返回类型（**初始化列表**不能用于返回值的自动推导）编译器能自动推导，也可以省略；

  - body：lamda表达式函数体；

  

  

  

  

  

  

  

  

  

  

  

  

  